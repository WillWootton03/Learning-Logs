{% extends 'base.html' %}
{% load static tailwind_tags %}
{% block content %}
    <div id="page-wrapper" class="flex flex-box mx-auto pt-24 justify-center h-[calc(100vh-3rem)] w-[70%]">
        <div class="flex flex-col h-full w-full bg-gray-800  p-6 gap-4 align-items-center rounded-2xl">
            <div class="bg-purple-900 rounded-2xl w-fit h-fit px-4 py-2 text-2xl text-white shadow-md shadow-black" >
                <h2 class="text-2xl font-bold cursor-default">{{ log.title }}</h2>
            </div>
            <div class="bg-gray-700 h-full w-[90%] rounded-2xl shadow-2xl px-10 py-2 mb-2 text-center text-white text-xl justify-items-center align-content-center cursor-default">
                <h2>{{ log.content }}</h2>
            </div>
            <div class="flex flex-row gap-x-8">
                <a href="{% url 'boardPage' log.board.id%}" class=" bg-gray-700 text-white text-2xl font-bold p-3 rounded-2xl hover:shadow-[0_0px_15px_rgba(0,0,0,0.9)] hover:shadow-purple-900 hover:bg-gray-600">
                    Return
                </a>
                <button onclick="openDeletePopup()" class="bg-gray-700 text-white text-2xl font-bold p-3 rounded-2xl hover:shadow-[0_0px_15px_rgba(0,0,0,0.9)] hover:shadow-red-500 hover:bg-gray-600">
                    Delete
                </button>
            </div>
        </div>
    </div>
    <!--Acts as the blurred background to cover main page-->
    <div id="modal-backdrop" onclick="closeDeletePopup()" class="hidden fixed inset-0 z-90 bg-black/50 backdrop-blur-sm"></div>
    <!--Permanently Delete Log Modal Popup-->
    <div id="delete-log-confirm" class="hidden flex flex-col fixed inset-x-[25%] inset-y-[40%] w-[50%] h-[6vw] rounded-2xl bg-gray-700 z-100 justify-content-center align-items-center">
        <h2 class="text-2xl text-white text-center pb-3">Do you want to permanently delete this log?</h2>
        <form method="POST" action="{% url 'deleteLog' log.id %}">
            {% csrf_token %}
            <button type="submit" class="bg-red-500 py-1 rounded w-fit h-fit text-lg font-bold px-4 hover:bg-red-800">Delete</button>
        </form>
        <button id="cancel-delete-modal" onclick="closeDeletePopup()" class="absolute top-2 right-2 bg-red-600 rounded px-2 text-white hover:bg-red-800">X</button>
    </div>
    <script>
        const modalBackdrop = document.getElementById('modal-backdrop');
        const deleteLogConfirm = document.getElementById('delete-log-confirm');

        function openDeletePopup() {
            modalBackdrop.classList.remove('hidden');
            deleteLogConfirm.classList.remove('hidden');
        }
        function closeDeletePopup() {
            modalBackdrop.classList.add('hidden');
            deleteLogConfirm.classList.add('hidden');
        }
    </script>
{% endblock %}